<div class="container">
  <div class="row">
    <div class="col-xs-8">
      <h2 class="section-headline"><span>Checkout</span></h2>
    </div>
    <div class="col-xs-4">
      <img src="../../../assets/image/logo.png" class="img-responsive right" style="width:400px; margin-top:80px; z-index:1;"  />
    </div>
    <img src="../../../assets/image/jersey.png" class="img-responsive right" style="position:absolute; width:90%; height:30%; margin-top: 90px; z-index:-2;" />
  </div>

  <hr style="position:absolute; width:88%; height:6px; background-color:#333; z-index:-1; margin-top:-287px;" />
  <div class="row" style="margin-top:120px;">
    <form (ngSubmit)="onSubmit()" method="post">
      <div class="col-xs-4">
        <div class="panel panel-default">
          <div class="panel-body">
            <button mat-raised-button type="submit" class="btn-block" color="primary">Place your order</button>
            <p style="font-size:smaller">By palcing your order, you agree to Moe's Jersey Store privacy notice and condition of use.</p>
            <hr />
            <h3>Order Summary</h3>
            <div class="row">
              <div class="col-xs-7 text-left">
                Total before tax:
              </div>
              <div class="col-xs-5 text-right">
                $ <span>{{shoppingCart.grandTotal}}</span>
              </div>
            </div>
            <div class="row">
              <div class="col-xs-7 text-left">
                Estimated tax:
              </div>
              <div class="col-xs-5 text-right">
                $ <span>{{shoppingCart.grandTotal * 0.08 | number : '1.2-2'}}</span>
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-xs-7 text-left">
                <h3 style="color:darkred;"><strong>Order Total: </strong></h3>
              </div>
              <div class="col-xs-5 text-right">
                <h3><strong style="color:darkred;">$ <span>{{shoppingCart.grandTotal * 0.08 | number : '1.2-2'}}</span></strong></h3>
              </div>
            </div>
            <div class="panel-footer">Shipping and hadling haven't applied.</div>
          </div>
        </div>
      </div>
      <div class="col-xs-8">
        <div *ngIf="missingRequiredField" >
          <h5 class="alert alert-warning">There are some fields missing. Field with * is required</h5>
        </div>

        <mat-tab-group (selectedIndexChange)="selectedChange($event)" [selectedIndex]="selectedTab">
          <!-- Shipping Address -->
          <mat-tab label="1. Shipping Address">
            <div class="panel panel-default">
              <div class="panel-heading">
                <h4 class="panel-title">1. Shipping Address</h4>
              </div>
            </div>
            <div class="panel-body">
              <table class="table" *ngIf="!emptyShippingList">
                <thead>
                  <tr>
                    <td>
                      <th>Available Shipping Address</th>
                      <th>Operation</th>
                    </td>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let userShipping of userShippingList">
                    <td>
                      {{userShipping.userShippingStreet1}},
                      {{userShipping.userShippingStreet2}},
                      {{userShipping.userShippingCity}},
                      {{userShipping.userShippingState}}
                    </td>
                    <td>
                      <a class="pointer" (click)="setShippingAddress(userShipping)">Use this address</a>
                    </td>
                  </tr>
                </tbody>
              </table>
              <div class="form-group">
                <label for="shippingname">* Name</label>
                <input type="text" class="form-control" id="shippingName" placeholder="Receiver Name" name="shippingAddressName" required="required" [(ngModel)]="shippingAddress.shippingAddressName" />
              </div>
              <div class="form-group">
                <label for="shippingAddress">* Street Address</label>
                <input type="text" class="form-control" id="shippingAddress" placeholder="Street Address 1" name="shippingAddressStreet1" required="required" [(ngModel)]="shippingAddress.shippingAddressStreet1" />
              </div>
              <div class="form-group">
                <input type="text" class="form-control" placeholder="Street Address 2" name="shippingAddressStreet2" [(ngModel)]="shippingAddress.shippingAddressStreet2" />
              </div>
              <div class="form-group">
                <label for="shippingCity">* City</label>
                <input type="text" class="form-control" id="shippingAddressCity" placeholder="Your Shipping City" name="shippingAddressCity" required="required" [(ngModel)]="shippingAddress.shippingAddressCity" />
              </div>
              <div class="form-group">
                <label for="shippingState">* State</label>
                <select id="shippingState" class="form-control" name="shippingAddressstate" [(ngModel)]="shippingAddress.shippingAddressState" required="required">
                  <option value="" disabled>-- state --</option>
                  <option *ngFor="let state of stateList">{{state}}</option>
                </select>
              </div>
              <div class="form-group">
                <label for="shippingZipcode">* Zipcode</label>
                <input type="text" class="form-control" id="shippingAddressZipcode" placeholder="Zipcode" name="shippingAddressZipcode" required="required" [(ngModel)]="shippingAddress.shippingAddressZipcode" />
              </div>
              <a mat-raised-button color="primary" (click)="goToPayment()">Next</a>
            </div>
          </mat-tab>
          <mat-tab label="2. Shipping Address">
          </mat-tab>
          <mat-tab label="3. Shipping Address">
          </mat-tab>
        </mat-tab-group>
      </div>
    </form>
  </div>
</div>
